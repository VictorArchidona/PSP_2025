<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/Estudiar/Gestion de Almacen/src/AlmacenSincronizado.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Estudiar/Gestion de Almacen/src/AlmacenSincronizado.java" />
              <option name="originalContent" value="import java.util.ArrayList;&#10;import java.util.concurrent.Semaphore;&#10;&#10;public class AlmacenSincronizado {&#10;&#10;    private Semaphore huecosVacios;&#10;    private Semaphore mutex;&#10;    private Semaphore hayPiezas;&#10;    private ArrayList&lt;Pieza&gt; piezas;&#10;&#10;    public AlmacenSincronizado(ArrayList&lt;Pieza&gt; piezas) {&#10;&#10;        this.piezas = piezas;&#10;        this.huecosVacios = new  Semaphore(12);&#10;        this.hayPiezas = new   Semaphore(0);&#10;        this.mutex = new Semaphore(1);&#10;    }&#10;&#10;    public ArrayList&lt;Pieza&gt; getPiezas() {&#10;        return piezas;&#10;    }&#10;&#10;    public void push(Pieza pieza) throws InterruptedException {&#10;&#10;        huecosVacios.acquire();&#10;        mutex.acquire();&#10;        piezas.add(pieza);&#10;        mutex.release();&#10;        hayPiezas.release();&#10;    }&#10;&#10;    public Pieza pop() throws InterruptedException {&#10;&#10;        hayPiezas.acquire();&#10;        mutex.acquire();&#10;        Pieza resultado = piezas.getLast();&#10;        piezas.removeLast();&#10;        mutex.release();&#10;        huecosVacios.release();&#10;&#10;        return resultado;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="import java.util.ArrayList;&#10;import java.util.concurrent.Semaphore;&#10;&#10;public class AlmacenSincronizado {&#10;&#10;    private Semaphore huecosVacios;&#10;    private Semaphore mutex;&#10;    private Semaphore hayPiezas;&#10;    private ArrayList&lt;Pieza&gt; piezas;&#10;&#10;    public AlmacenSincronizado(ArrayList&lt;Pieza&gt; piezas) {&#10;&#10;        this.piezas = piezas;&#10;        this.huecosVacios = new  Semaphore(12);&#10;        this.hayPiezas = new   Semaphore(0);&#10;        this.mutex = new Semaphore(1);&#10;    }&#10;&#10;    public ArrayList&lt;Pieza&gt; getPiezas() {&#10;        return piezas;&#10;    }&#10;&#10;    public void push(Pieza pieza) throws InterruptedException {&#10;&#10;        huecosVacios.acquire();&#10;        mutex.acquire();&#10;        piezas.add(pieza);&#10;        mutex.release();&#10;        hayPiezas.release();&#10;    }&#10;&#10;    public Pieza pop() throws InterruptedException {&#10;&#10;        hayPiezas.acquire();&#10;        mutex.acquire();&#10;        Pieza resultado = piezas.getLast();&#10;        piezas.removeLast();&#10;        mutex.release();&#10;        huecosVacios.release();&#10;&#10;        return resultado;&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Estudiar/Gestion de Almacen/src/Operario.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Estudiar/Gestion de Almacen/src/Operario.java" />
              <option name="originalContent" value="import java.util.ArrayList;&#10;&#10;public class Operario implements Runnable {&#10;&#10;    private int id;&#10;    private AlmacenSincronizado almacen;&#10;&#10;    public Operario(int id, AlmacenSincronizado almacen) {&#10;&#10;        this.id = id;&#10;        this.almacen = almacen;&#10;    }&#10;&#10;    //El hilo lo que hace es meter la pieza creada en el run y meterlo dentro de la pila en AlmacenSincronizado&#10;    @Override&#10;    public void run() {&#10;&#10;        for(int i = 0; i &lt; 14; i++){&#10;&#10;            String nombre = &quot;Pieza &quot;+i;&#10;&#10;            Pieza pieza = new Pieza(i, nombre);&#10;&#10;            try {&#10;                almacen.push(pieza);&#10;                System.out.println(&quot;Operario &quot; + id + &quot; produjo: &quot; + nombre);&#10;&#10;            } catch (InterruptedException e) {&#10;&#10;                System.out.println(&quot;Error al hacer el push en la clase Operario&quot;);&#10;&#10;            }&#10;&#10;        }&#10;&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="import java.util.ArrayList;&#10;&#10;public class Operario implements Runnable {&#10;&#10;    private int id;&#10;    private AlmacenSincronizado almacen;&#10;&#10;    public Operario(int id, AlmacenSincronizado almacen) {&#10;&#10;        this.id = id;&#10;        this.almacen = almacen;&#10;    }&#10;&#10;    //El hilo lo que hace es meter la pieza creada en el run y meterlo dentro de la pila en AlmacenSincronizado&#10;    @Override&#10;    public void run() {&#10;&#10;        for(int i = 0; i &lt; 14; i++){&#10;&#10;            String nombre = &quot;Pieza &quot;+i;&#10;&#10;            Pieza pieza = new Pieza(i, nombre);&#10;&#10;            try {&#10;                almacen.push(pieza);&#10;                System.out.println(&quot;Operario &quot; + id + &quot; produjo: &quot; + nombre);&#10;&#10;            } catch (InterruptedException e) {&#10;&#10;                System.out.println(&quot;Error al hacer el push en la clase Operario&quot;);&#10;&#10;            }&#10;&#10;        }&#10;&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Estudiar/Gestion de Almacen/src/Transportista.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Estudiar/Gestion de Almacen/src/Transportista.java" />
              <option name="originalContent" value="public class Transportista implements Runnable{&#10;&#10;    private int id;&#10;    private AlmacenSincronizado almacen;&#10;&#10;    public Transportista(int id, AlmacenSincronizado almacen) {&#10;&#10;        this.id = id;&#10;        this.almacen = almacen;&#10;    }&#10;&#10;    @Override&#10;    public void run() {&#10;&#10;        for(int i = 0; i &lt; 9; i++){&#10;&#10;            try {&#10;                Pieza pieza = almacen.pop();&#10;                System.out.println(&quot;Transportista &quot; + id + &quot; consumió: &quot; + pieza.getNombre());&#10;&#10;            } catch (InterruptedException e) {&#10;&#10;                System.out.println(&quot;Error al hacer el pop en la clase Transportista&quot;);&#10;&#10;            }&#10;&#10;        }&#10;&#10;    }&#10;&#10;}&#10;" />
              <option name="updatedContent" value="public class Transportista implements Runnable{&#10;&#10;    private int id;&#10;    private AlmacenSincronizado almacen;&#10;&#10;    public Transportista(int id, AlmacenSincronizado almacen) {&#10;&#10;        this.id = id;&#10;        this.almacen = almacen;&#10;    }&#10;&#10;    @Override&#10;    public void run() {&#10;&#10;        for(int i = 0; i &lt; 9; i++){&#10;&#10;            try {&#10;                Pieza pieza = almacen.pop();&#10;                System.out.println(&quot;Transportista &quot; + id + &quot; consumió: &quot; + pieza.getNombre());&#10;&#10;            } catch (InterruptedException e) {&#10;&#10;                System.out.println(&quot;Error al hacer el pop en la clase Transportista&quot;);&#10;&#10;            }&#10;&#10;        }&#10;&#10;    }&#10;&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>